(function(){"use strict";var a=function(a){function b(a){return a.replace(q,"\\\\").replace(r,"\\b").replace(s,"\\t").replace(t,"\\n").replace(u,"\\v").replace(v,"\\f").replace(w,"\\r").replace(x,'\\"').replace(y,"\\'")}var c="process.stdout.write(",d=");",e="(",f=")",g="+",h="'",i="'",j="<?js",k=j.length,l="?>",m=l.length,n=":",o=/\s/m,p=/(\/\/.+?\n|\/\*(.|[\n\r\f])+?\*\/|[^\\]\'((\\\')|(\\\\)|([^\']?))+\'?|[^\\]\"((\\\")|(\\\\)|([^\"]?))+\"?|\?\>)/gm,q=/\\/gm,r=/\u0008/gm,s=/\t/gm,t=/\n/gm,u=/\v/gm,v=/\f/gm,w=/\r/gm,x=/\"/gm,y=/\'/gm;return a&&(c="_$+=",d=";"),function(q){for(var r="",s=!0,t=!1,u=0,v=0,w=q.length;u<w;){if(s)u=q.indexOf(j,u),u===-1&&(u=w),s=!1,u!==v&&(r+=(t?g:c)+e+h+b(q.slice(v,u))+i+f,t=!0),u+=k;else{var x=q[u],y=x===n;if(!y&&!o.test(x)){v-=k,s=!0;continue}v++;var z,A=q.slice(u),B=-1;for(p.lastIndex=0;z=p.exec(A);)if(z[0]===l){B=z.index;break}B===-1?u=w:u+=B,y?(r+=(t?g:c)+e+q.slice(v,u)+f,t=!0):(r+=(t?d:"")+q.slice(v,u),t=!1),u+=m,s=!0}v=u}return t&&(r+=d),a&&(r="var _$='';"+r+"return _$;"),r}};"undefined"!=typeof module&&module.exports?module.exports=a:(this.jshtml||(this.jshtml={}),this.jshtml.compiler=a)}).call(this),function(){var compiler=this.jshtml.compiler(!0);this.jshtml.template=function(script,context){script=compiler(script);var genScript="(function(",args=[];if(context){var first=!0;for(var property in context)context.hasOwnProperty(property)&&(genScript+=(first?"":",")+property,args.push(context[property]),first=!1)}return genScript+="){"+script+"});",exec=eval(genScript),function(a){return exec.apply(a,args)}}}.call(this);